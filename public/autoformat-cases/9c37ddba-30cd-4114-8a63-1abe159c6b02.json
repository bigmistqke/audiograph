{
  "id": "9c37ddba-30cd-4114-8a63-1abe159c6b02",
  "title": "Split pulled right to align with downstream merge",
  "comments": [
    {
      "role": "user",
      "text": "an example of a split node being pulled towards its parent (F) and its parents position is determined by its preceding chain (A-D-E-C)"
    },
    {
      "role": "assistant",
      "text": "Chains: [A,B] (A split → B split), [B,C] (B → C merge, no internals), [A,D,E,C] (A → D → E → C merge, E is last internal), [B,F] (B → F leaf).\n\nForward pass: E.x = D.right + gap = 260 (sequential). C.x = max(B.right, E.right) + gap — but B isn't placed yet, so C is driven by E: C.x = 360 + 30 = 390.\n\nBackward pass: B (split) is pulled toward C — its longest child path to C has minChildPathWidth = 100 (just node C). B.x = max(A.right + gap, C.x - 100 - 30) = max(130, 260) = 260.\n\nRule tested: CPM backward pass — split node B is pulled rightward so its child chain snaps flush against the downstream merge."
    }
  ],
  "initial": {
    "nodes": {
      "952b4c59-e9f0-4355-ab91-9f1dcdac1a7d": {
        "id": "952b4c59-e9f0-4355-ab91-9f1dcdac1a7d",
        "type": "node",
        "x": 0,
        "y": 0,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "A"
        }
      },
      "7b81bb89-c944-4f15-bf21-c25e36586783": {
        "id": "7b81bb89-c944-4f15-bf21-c25e36586783",
        "type": "node",
        "x": 190,
        "y": 50,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "B"
        }
      },
      "a459dec5-bbbc-4c63-b0ef-2632347bb079": {
        "id": "a459dec5-bbbc-4c63-b0ef-2632347bb079",
        "type": "node",
        "x": 330,
        "y": 50,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "C"
        }
      },
      "fa8d390e-120b-4ab9-8f35-1c8ec7cb011d": {
        "id": "fa8d390e-120b-4ab9-8f35-1c8ec7cb011d",
        "type": "node",
        "x": 150,
        "y": 180,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "D"
        }
      },
      "a5c1aa9e-e45b-4322-9eb3-4bbb21a25290": {
        "id": "a5c1aa9e-e45b-4322-9eb3-4bbb21a25290",
        "type": "node",
        "x": 290,
        "y": 170,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "E"
        }
      },
      "334947a0-d62c-4ca4-a88a-b0bd6398c9b8": {
        "id": "334947a0-d62c-4ca4-a88a-b0bd6398c9b8",
        "type": "node",
        "x": 410,
        "y": 170,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "F"
        }
      }
    },
    "edges": [
      {
        "output": {
          "node": "952b4c59-e9f0-4355-ab91-9f1dcdac1a7d",
          "port": "out"
        },
        "input": {
          "node": "7b81bb89-c944-4f15-bf21-c25e36586783",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "7b81bb89-c944-4f15-bf21-c25e36586783",
          "port": "out"
        },
        "input": {
          "node": "a459dec5-bbbc-4c63-b0ef-2632347bb079",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "952b4c59-e9f0-4355-ab91-9f1dcdac1a7d",
          "port": "out"
        },
        "input": {
          "node": "fa8d390e-120b-4ab9-8f35-1c8ec7cb011d",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "fa8d390e-120b-4ab9-8f35-1c8ec7cb011d",
          "port": "out"
        },
        "input": {
          "node": "a5c1aa9e-e45b-4322-9eb3-4bbb21a25290",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "a5c1aa9e-e45b-4322-9eb3-4bbb21a25290",
          "port": "out"
        },
        "input": {
          "node": "a459dec5-bbbc-4c63-b0ef-2632347bb079",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "7b81bb89-c944-4f15-bf21-c25e36586783",
          "port": "out"
        },
        "input": {
          "node": "334947a0-d62c-4ca4-a88a-b0bd6398c9b8",
          "port": "in"
        }
      }
    ]
  },
  "expected": {
    "nodes": {
      "3b473891-e1d0-4e26-b06d-492282827f7d": {
        "id": "3b473891-e1d0-4e26-b06d-492282827f7d",
        "type": "node",
        "x": 0,
        "y": 0,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "A"
        }
      },
      "85064509-6790-4861-ad4a-db4765dc29ce": {
        "id": "85064509-6790-4861-ad4a-db4765dc29ce",
        "type": "node",
        "x": 260,
        "y": 0,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "B"
        }
      },
      "6712e754-886b-48d0-a8a6-3b893abed3e7": {
        "id": "6712e754-886b-48d0-a8a6-3b893abed3e7",
        "type": "node",
        "x": 390,
        "y": 0,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "C"
        }
      },
      "97d67c82-d1ec-4d72-abab-5040408a2071": {
        "id": "97d67c82-d1ec-4d72-abab-5040408a2071",
        "type": "node",
        "x": 130,
        "y": 110,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "D"
        }
      },
      "f5e26cf0-234f-499d-ab36-7b819ba5477c": {
        "id": "f5e26cf0-234f-499d-ab36-7b819ba5477c",
        "type": "node",
        "x": 260,
        "y": 110,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "E"
        }
      },
      "88eae6fc-2b79-4531-ae05-edcabdc766cc": {
        "id": "88eae6fc-2b79-4531-ae05-edcabdc766cc",
        "type": "node",
        "x": 390,
        "y": 110,
        "dimensions": {
          "x": 100,
          "y": 80
        },
        "state": {
          "label": "F"
        }
      }
    },
    "edges": [
      {
        "output": {
          "node": "3b473891-e1d0-4e26-b06d-492282827f7d",
          "port": "out"
        },
        "input": {
          "node": "97d67c82-d1ec-4d72-abab-5040408a2071",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "3b473891-e1d0-4e26-b06d-492282827f7d",
          "port": "out"
        },
        "input": {
          "node": "85064509-6790-4861-ad4a-db4765dc29ce",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "97d67c82-d1ec-4d72-abab-5040408a2071",
          "port": "out"
        },
        "input": {
          "node": "f5e26cf0-234f-499d-ab36-7b819ba5477c",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "85064509-6790-4861-ad4a-db4765dc29ce",
          "port": "out"
        },
        "input": {
          "node": "88eae6fc-2b79-4531-ae05-edcabdc766cc",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "f5e26cf0-234f-499d-ab36-7b819ba5477c",
          "port": "out"
        },
        "input": {
          "node": "6712e754-886b-48d0-a8a6-3b893abed3e7",
          "port": "in"
        }
      },
      {
        "output": {
          "node": "85064509-6790-4861-ad4a-db4765dc29ce",
          "port": "out"
        },
        "input": {
          "node": "6712e754-886b-48d0-a8a6-3b893abed3e7",
          "port": "in"
        }
      }
    ]
  }
}